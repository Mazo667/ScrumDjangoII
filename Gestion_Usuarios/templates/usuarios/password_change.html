{% extends "base.html" %}

{% block content %}
    <h2>Cambiar clave</h2>
    <form method="post">
        {% csrf_token %}
        
        <!-- Mostrar errores del formulario -->
        {% if form.non_field_errors %}
            <div style="color: red;">
                {{ form.non_field_errors }}
            </div>
        {% endif %}
        
        <div style="margin-bottom: 15px;">
            <label for="{{ form.old_password.id_for_label }}">Clave antigua</label>
            {{ form.old_password }}
            {% if form.old_password.errors %}
                <div style="color: red;">
                    {{ form.old_password.errors }}
                </div>
            {% endif %}
        </div>

        <div style="margin-bottom: 15px;">
            <label for="{{ form.new_password1.id_for_label }}">Clave nueva</label>
            {{ form.new_password1 }}
            {% if form.new_password1.errors %}
                <div style="color: red;">
                    {{ form.new_password1.errors }}
                </div>
            {% endif %}
        </div>

        <div style="margin-bottom: 15px;">
            <label for="{{ form.new_password2.id_for_label }}">Confirmar clave nueva</label>
            {{ form.new_password2 }}
            {% if form.new_password2.errors %}
                <div style="color: red;">
                    {{ form.new_password2.errors }}
                </div>
            {% endif %}
        </div>

        <button type="submit">Cambiar Clave</button>
    </form>

    <!-- Mensaje de Ã©xito -->
    {% if messages %}
        {% for message in messages %}
            <div style="color: green;">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}
{% endblock %}